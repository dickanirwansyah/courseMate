<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Edit profile</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<link type="text/css" rel="stylesheet" th:href="@{../css/bootstrap.min.css}" />
</head>
<body>
	<div th:replace="header :: header">...</div>
	<div class="col-md-4" style="padding:80px 20px">
	    <div class="alert alert-success" th:if="${param.pwdchanged}">
            Password changed.
        </div>
	    <div class="alert alert-danger" th:if="${param.nomatch}">
            Passwords doesn't match.
        </div>
	    <div class="alert alert-danger" th:if="${param.length}">
            Password length is too short.
        </div>
		<h3>Edit your profile</h3>
		<form th:object="${student}" th:action="@{../save}" action="#" method="post">
			<input type="hidden" th:field="*{id}" class="form-control"/>
			<label for="number">Student Number</label>
			<input type="text" id="number" th:field="*{studentNumber}" class="form-control"
				placeholder="Student number" />
			<div style="clear: both; display: block; height: 10px;"></div>
			<label for="fname">First name</label>
			<input type="text" id="fname" th:field="*{firstName}" class="form-control"
				placeholder="First name" />
			<div style="clear: both; display: block; height: 10px;"></div>
			<label for="lname">Last name</label>
			<input type="text" id="lname" th:field="*{lastName}" class="form-control"
				placeholder="Last name" />
			<div style="clear: both; display: block; height: 10px;"></div>
			<label for="dep">Department</label>
			<input type="text" id="dep" th:field="*{department}" class="form-control"
				placeholder="Department" />
			<div style="clear: both; display: block; height: 10px;"></div>	
			<label for="email">Email</label>
			<input type="text" id="email" th:field="*{email}" class="form-control"
				placeholder="Email" />
			<div style="clear: both; display: block; height: 10px;"></div>
			<input type="hidden" th:field="*{user.id}" class="form-control"/>
			<input type="submit" name="action" class="btn btn-primary" value="Save"></input>
			<input type="submit" name="action" class="btn btn-default" value="Cancel"></input>
		</form>
		<br />
		<a href="changepassword" data-toggle="modal" data-target="#myModal">Change Password</a>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">Change password</h4>
      </div>
      <div class="modal-body">
      	<form th:action="@{../changePassword}" th:object="${pwdcheck}" id="pwdform" action="#" method="post">
			<input type="password" th:field="*{password}" placeholder="Password" class="form-control" />
			<div style="clear: both; display: block; height: 10px;"></div>			
			<input type="password" th:field="*{confirm}" placeholder="Confirm password" class="form-control" />
        	<button type="submit" class="btn btn-primary">Save</button>
        	<button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
         </form>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div>
</div>
</body>
</html>
